# =============================================================================
# Unified Symbol Registry (Issue #79)
# =============================================================================
# SSoT for all symbol metadata in rangebar-py.
#
# MANDATORY: Every symbol must have an entry here before it can be processed.
# Unregistered symbols raise SymbolNotRegisteredError.
#
# Replaces: KNOWN_LISTING_DATES, TIER1_SYMBOLS (scattered across codebase)
#
# Keywords for AI discoverability:
#   symbol registry, mandatory gate, listing dates, data anomaly, effective start,
#   binance vision, exness, crypto, forex, range bars, data quality
#
# Reference: https://github.com/terrylica/rangebar-py/issues/79

[meta]
schema_version = 2

# =============================================================================
# Crypto Symbols (Binance)
# =============================================================================

[symbols.BTCUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2017-08-17
effective_start = 2018-01-16
reason = "Intentional skip: 2018-01-14/15 contain ghost trades (price=0, qty=0, first_trade_id=-1) from Binance matching engine maintenance. These zero-price phantom records would corrupt ML time series with false price levels and zero-volume bars. effective_start gates the pipeline to only ingest verified clean data."
first_clean_date = 2018-01-16
data_anomalies = [
    "2018-01-14: 6 ghost trades (price=0, qty=0, first_trade_id=-1) — exchange-wide event at 04:37, 16:27, 22:03 UTC affecting BTC/ETH/BNB/LTC simultaneously",
    "2018-01-15: 14 ghost trades (same pattern) — continuation of exchange maintenance event",
]
processing_notes = "Oracle-verified 2026-02-08 against Binance Vision source. Ghost trades are Binance matching engine sentinel records (not CSV corruption). The -1 sentinel in first_trade_id breaks Rust u64 deserialization. Zero-price trades also cause out-of-order timestamps and would produce invalid OHLCV bars. effective_start=2018-01-16 is the intentional defense — it gates the pipeline so ghost trades never reach the Rust processor or ML features. Data from listing_date (2017-08-17) through 2018-01-13 is clean but also skipped because the Rust CSV parser cannot selectively skip individual rows within a daily archive."
keywords = ["bitcoin", "btc", "ghost trades", "binance vision"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.ETHUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2017-08-17
effective_start = 2018-01-16
reason = "Intentional skip: ghost trades on 2018-01-14/15 (price=0, qty=0, first_trade_id=-1) would poison ML features with zero-price bars. Same exchange-wide event as BTCUSDT."
first_clean_date = 2018-01-16
data_anomalies = [
    "2018-01-14: 4 ghost trades (price=0, qty=0, first_trade_id=-1) — same exchange-wide event as BTCUSDT",
    "2018-01-15: ghost trades with same pattern as BTCUSDT",
]
processing_notes = "Oracle-verified 2026-02-08. Same ghost trade event as BTCUSDT. effective_start=2018-01-16 gates pipeline to clean data only."
keywords = ["ethereum", "eth", "ghost trades"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.BNBUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2017-11-06
effective_start = 2018-01-16
reason = "Intentional skip: ghost trades on 2018-01-14/15 (price=0, qty=0, first_trade_id=-1) would poison ML features with zero-price bars. Same exchange-wide event as BTCUSDT."
first_clean_date = 2018-01-16
data_anomalies = [
    "2018-01-14: 6 ghost trades (price=0, qty=0, first_trade_id=-1) — same exchange-wide event as BTCUSDT",
    "2018-01-15: ghost trades with same pattern as BTCUSDT",
]
processing_notes = "Oracle-verified 2026-02-08. Same ghost trade event as BTCUSDT. effective_start=2018-01-16 gates pipeline to clean data only."
keywords = ["binance coin", "bnb", "ghost trades"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.XRPUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2018-05-04
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~555 bars/day avg, 72,898 max (2021-02-01 pump). Pending benchmark to determine if 250 is feasible."
keywords = ["ripple", "xrp"]

[symbols.ADAUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2018-04-17
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~513 bars/day avg, 44,159 max (2021-05-19 crash). Pending benchmark."
keywords = ["cardano", "ada"]

[symbols.DOGEUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2019-07-05
processing_notes = "At 250 dbps, DOGEUSDT produces ~1,000 bars/day average and 219,893 bars on pump day (2021-01-28), making intra-bar feature computation infeasible (Hurst DFA + Permutation Entropy per bar). Minimum threshold enforced via mise.toml RANGEBAR_MIN_THRESHOLD_DOGEUSDT=500."
keywords = ["dogecoin", "doge", "meme"]

[symbols.SOLUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2020-08-11
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~727 bars/day avg (2nd highest), 33,036 max (2021-05-19). Pending benchmark."
keywords = ["solana", "sol"]

[symbols.DOTUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
listing_date = 2020-08-18
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~534 bars/day avg, 38,116 max (2021-05-19). Pending benchmark."
keywords = ["polkadot", "dot"]

[symbols.SHIBUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
listing_date = 2021-05-10
data_anomalies = [
    "2021-05-10: first-day bars had mixed int/float types causing Polars schema inference crash (fixed v12.10.4, verified clean with Polars 1.36+)",
]
processing_notes = "Extreme volatility makes sub-1000 dbps infeasible. At 500 dbps, listing pump day (2021-05-10) produces 110,727 bars — Hurst DFA + Permutation Entropy computation is infeasible at this bar density. Hard minimum: 1000 dbps (RANGEBAR_MIN_THRESHOLD_SHIBUSDT=1000). Polars schema inference crash on first-day data fixed by infer_schema_length=None."
keywords = ["shiba inu", "shib", "meme"]

[symbols.AVAXUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2020-09-22
data_anomalies = [
    "2020-09-22: first-day bars had mixed int/float types causing Polars schema inference crash (fixed v12.10.4, verified clean with Polars 1.36+)",
]
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~688 bars/day avg, 27,445 max (2021-02-10). Polars schema inference crash on first-day data fixed by infer_schema_length=None."
keywords = ["avalanche", "avax"]

[symbols.LTCUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2017-12-13
effective_start = 2018-01-16
reason = "Intentional skip: ghost trades on 2018-01-14/15 (price=0, qty=0, first_trade_id=-1) would poison ML features with zero-price bars. Same exchange-wide event as BTCUSDT. Data 2017-12-13 to 2018-01-13 is clean but also skipped — the Rust CSV parser cannot selectively filter rows within a daily archive, so the entire contaminated window is excluded."
first_clean_date = 2018-01-16
data_anomalies = [
    "2018-01-14: 6 ghost trades (price=0, qty=0, first_trade_id=-1) — same exchange-wide event as BTCUSDT",
    "2018-01-15: ghost trades with same pattern as BTCUSDT",
]
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~460 bars/day avg, 26,654 max (2021-05-19). Oracle-verified 2026-02-08. Same ghost trade event as BTCUSDT. effective_start=2018-01-16 is the intentional defense."
keywords = ["litecoin", "ltc", "ghost trades"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.LINKUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2019-01-16
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~583 bars/day avg, 26,188 max (2020-03-12). Pending benchmark."
keywords = ["chainlink", "link"]

[symbols.ATOMUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
listing_date = 2019-04-22
effective_start = 2019-04-29
reason = "Data starts 2019-04-29 (HTTP 404 for 2019-04-22 through 2019-04-28)"
first_clean_date = 2019-04-29
data_anomalies = [
    "2019-04-22 to 2019-04-28: Binance Vision HTTP 404 (7 days missing after listing)",
]
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~552 bars/day avg, 26,177 max (2021-05-19). 7 days missing between listing_date and first available aggTrade archive."
keywords = ["cosmos", "atom", "missing data", "listing date mismatch"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.UNIUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2020-09-17
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~636 bars/day avg, 35,416 max (2020-09-18 listing pump). Pending benchmark."
keywords = ["uniswap", "uni"]

[symbols.ETCUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
listing_date = 2018-06-12
keywords = ["ethereum classic", "etc"]

[symbols.XLMUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
listing_date = 2018-05-09
effective_start = 2018-05-31
reason = "aggTrade archives unavailable before 2018-05-31 (HTTP 404 for 2018-05-09 through 2018-05-30)"
first_clean_date = 2018-05-31
data_anomalies = [
    "2018-05-09 to 2018-05-30: Binance Vision HTTP 404 (22 days missing after listing)",
]
processing_notes = "22 days missing between listing_date and first available aggTrade archive."
keywords = ["stellar", "xlm", "missing data"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.NEARUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2020-10-14
processing_notes = "Provisional min 500 dbps (Issue #89). At 250 dbps: ~661 bars/day avg, 22,699 max (2022-05-11). Pending benchmark."
keywords = ["near protocol", "near"]

# Additional TIER1 symbols (from constants.py TIER1_SYMBOLS not in KNOWN_LISTING_DATES)

[symbols.AAVEUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2020-10-15
keywords = ["aave", "defi", "lending"]

[symbols.BCHUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2017-12-20
effective_start = 2019-11-28
reason = "aggTrade archives unavailable before 2019-11-28 (HTTP 404 for all earlier dates)"
first_clean_date = 2019-11-28
data_anomalies = [
    "2017-12-20 to 2019-11-27: Binance Vision HTTP 404 (~2 years of missing aggTrade archives)",
]
processing_notes = "Provisional min 500 dbps (Issue #89). Nearly 2 years of missing data between listing and first available archive. Largest gap in registry."
keywords = ["bitcoin cash", "bch", "missing data"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"

[symbols.FILUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2020-10-15
keywords = ["filecoin", "fil"]

[symbols.SUIUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2023-05-03
keywords = ["sui"]

[symbols.WIFUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2024-03-05
processing_notes = "Meme coin with extreme listing volatility: 40x price move in first weeks after 2024-03-05 listing (from ~$0.10 to ~$4.00+). Hurst DFA + Permutation Entropy computation infeasible at sub-1000 dbps bar densities. Hard minimum: 1000 dbps (RANGEBAR_MIN_THRESHOLD_WIFUSDT=1000). Same classification as SHIBUSDT (Tier A meme coin)."
keywords = ["dogwifhat", "wif", "meme"]

[symbols.WLDUSDT]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "spot"
tier = 1
listing_date = 2023-07-24
keywords = ["worldcoin", "wld"]

# =============================================================================
# Crypto Symbols (Binance Futures COIN-M)
# =============================================================================

[symbols.BTCUSD_PERP]
enabled = true
asset_class = "crypto"
exchange = "binance"
market = "futures-cm"
listing_date = 2019-09-25
keywords = ["bitcoin", "btc", "coin-margined", "perpetual", "futures"]

# =============================================================================
# Symbol Transitions (historical record)
# =============================================================================
# Documents symbol rebrands/renames for historical reference.
# Delisted symbols are NOT registered — we don't process delisted symbols.

[transitions.MATIC_TO_POL]
old_symbol = "MATICUSDT"
new_symbol = "POLUSDT"
last_old_date = 2024-09-10
first_new_date = 2024-09-13
gap_days = 2
reason = "MATIC->POL rebrand. MATICUSDT delisted 2024-09-10, removed from registry."
keywords = ["rebrand", "symbol rename", "data gap", "polygon", "delisted"]
reference = "https://github.com/terrylica/rangebar-py/issues/79"
status = "archived"
